<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Perry's Collection — Home</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    
  </style>
</head>
<body class="home-page">

  <header class="topbar">
    <div class="container">
      <div class="logo"><span>Perry's Collection</span></div>
      <div class="deliver"><span>Deliver to</span><strong>Kenya</strong></div>
      <div class="search-wrap">
        <input id="search" class="search-input" type="search" placeholder="Search products, brands and categories">
        <button class="search-btn">Search</button>
      </div>
      <div class="account" id="accountSection" style="cursor:pointer;">
        <span id="accTitle">Account</span>
        <strong id="accAction">Login | Sign Up</strong>
      </div>
    </div>
  </header>

  <nav class="mainnav">
    <div class="container">
      <ul class="nav-links">
        <li>All</li>
        <li>Today's Deals</li>
        <li>Customer Service</li>
        <li>Registry</li>
        <li>Gift Cards</li>
        <li>Sell</li>
      </ul>
    </div>
  </nav>

  <main class="container">
    <section class="hero">
      <div class="hero-card">
        <h1>Simple, honest shopping — curated by Perry</h1>
        <p>Handpicked selections for everyday life.</p>
      </div>
    </section>

    <section class="categories">
      <h2>Shop by category</h2>
      <div class="category-grid">
        <button class="category-filter" data-category="all">All</button>
        <button class="category-filter" data-category="electronics">Electronics</button>
        <button class="category-filter" data-category="fashion">Fashion</button>
        <button class="category-filter" data-category="home">Home</button>
      </div>
    </section>

    <section id="products" class="products"></section>
  </main>

  <footer class="sitefoot">
    <div class="container">
      <div>Back to top</div>
      <div>© <span id="year"></span> Perry's Collection — All rights reserved</div>
    </div>
  </footer>

  
  <div class="cart" id="cartSection" style="cursor:pointer; position:relative;">
  
  

  
  <span id="cartBadge"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff">
    <path d="M280-80q-33 0-56.5-23.5T200-160q0-33 23.5-56.5T280-240q33 0 56.5 23.5T360-160q0 33-23.5 56.5T280-80Zm400 0q-33 0-56.5-23.5T600-160q0-33 23.5-56.5T680-240q33 0 56.5 23.5T760-160q0 33-23.5 56.5T680-80ZM246-720l96 200h280l110-200H246Zm-38-80h590q23 0 35 20.5t1 41.5L692-482q-11 20-29.5 31T622-440H324l-44 80h480v80H280q-45 0-68-39.5t-2-78.5l54-98-144-304H40v-80h130l38 80Zm134 280h280-280Z"/>
  </svg>0</span>
</div>


  
  <script src="practice.js"></script>
  <script>
    //  ACCOUNT 
    const accountBox = document.getElementById("accountSection");
    const title = document.getElementById("accTitle");
    const action = document.getElementById("accAction");
    const user = JSON.parse(localStorage.getItem("currentUser"));

    if (user) {
      title.innerText = "Account";
      action.innerText = `Welcome, ${user.name}`;
      accountBox.onclick = () => alert("Your account page coming soon!");
    } else {
      accountBox.onclick = () => {
        const choice = confirm("Press OK to Login.\nPress Cancel to Sign Up.");
        if (choice) window.location.href = "login.html";
        else window.location.href = "signup.html";
      };
    }

    document.getElementById("year").innerText = new Date().getFullYear();
  </script>

  <script>
    //  PRODUCTS JS 
    document.addEventListener("DOMContentLoaded", () => {
      const container = document.getElementById("products");
      const searchInput = document.getElementById("search");
      const categoryButtons = document.querySelectorAll(".category-filter");

      let productsData = [];
      let cart = JSON.parse(localStorage.getItem("cart")) || [];

      const cartBadge = document.getElementById("cartBadge");
      function updateCartBadge() { cartBadge.innerText = cart.length; }
      updateCartBadge();

      fetch("https://fakestoreapi.com/products")
        .then(res => res.json())
        .then(products => {
          productsData = products;
          displayProducts(products);
        })
        .catch(err => console.log("Error loading products:", err));

      function displayProducts(list) {
        container.innerHTML = "";
        list.forEach(product => {
          const card = document.createElement("div");
          card.classList.add("product");
          card.innerHTML = `
            <img src="${product.image}" alt="${product.title}">
            <h3>${product.title}</h3>
            <p>$${product.price}</p>
            <button class="addCartBtn">Add to Cart</button>
          `;
          container.appendChild(card);

          card.querySelector(".addCartBtn").addEventListener("click", () => {
            cart.push(product);
            localStorage.setItem("cart", JSON.stringify(cart));
            updateCartBadge();
            alert(`${product.title} added to cart!`);
          });
        });
      }

      searchInput.addEventListener("input", () => {
        const query = searchInput.value.toLowerCase();
        const filtered = productsData.filter(p => p.title.toLowerCase().includes(query));
        displayProducts(filtered);
      });

      categoryButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          const cat = btn.dataset.category;
          if (cat === "all") displayProducts(productsData);
          else {
            const filtered = productsData.filter(p => {
              if (cat === "electronics") return p.category.includes("electronics");
              if (cat === "fashion") return p.category.includes("clothing") || p.category.includes("jewelery");
              if (cat === "home") return p.category.includes("home");
              return false;
            });
            displayProducts(filtered);
          }
        });
      });
    });
  </script>
</body>
</html>
